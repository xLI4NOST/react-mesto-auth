{"ast":null,"code":"import _slicedToArray from\"/Users/li4nost/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import AuthApi,{authApi}from\"../../../utils/AuthApi\";import{useState}from\"react\";import{Navigate,useNavigate}from\"react-router\";import InfoToolTip from\"./InfoToolTip\";import Header from\"../header\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Register(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setIsEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setIsPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isOpen=_useState6[0],setIsOpen=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isRight=_useState8[0],setIsright=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),isReg=_useState10[0],setIsReg=_useState10[1];var navigate=useNavigate();function handleSetEmail(e){setIsEmail(e.target.value);console.log(email);}function onClose(){setIsOpen(false);}function handleSetPassword(e){setIsPassword(e.target.value);console.log(password);}function handleRegistr(email,password){authApi.postUser(email,password).then(function(res){console.log(res);setIsOpen(true);setIsright(true);setIsReg(false);setTimeout(function(){navigate('/sign-in');},3000);}).catch(function(err){setIsOpen(true);console.log(err);});console.log(email);console.log(password);}function handleSubmit(e){e.preventDefault();handleRegistr(email,password);}// let navigate = useNavigate()\n// function signIn(){\n//     localStorage.removeItem('token');\n//     navigate('/sign-in');\n//   }\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{onText:'Войти',onReg:isReg}),/*#__PURE__*/_jsxs(\"section\",{className:\"register\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"register__text\",children:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"form form-register\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{value:email||'',onChange:handleSetEmail,type:\"email\",placeholder:\"Email\",className:\"form__ input form-register__input  form-register__input_type_email\"}),/*#__PURE__*/_jsx(\"input\",{value:password||'',onChange:handleSetPassword,type:\"Password\",placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",className:\"form__ input form-register__input form-register_input_type_pass\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"form__button form-register__button\",children:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"register__button-login\",children:\"\\u0423\\u0436\\u0435 \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u044B? \\u0412\\u043E\\u0439\\u0442\\u0438\"}),/*#__PURE__*/_jsx(InfoToolTip,{onClose:onClose,onOpen:isOpen,onRight:isRight})]})]});}export default Register;","map":{"version":3,"names":["React","AuthApi","authApi","useState","Navigate","useNavigate","InfoToolTip","Header","Register","props","email","setIsEmail","password","setIsPassword","isOpen","setIsOpen","isRight","setIsright","isReg","setIsReg","navigate","handleSetEmail","e","target","value","console","log","onClose","handleSetPassword","handleRegistr","postUser","then","res","setTimeout","catch","err","handleSubmit","preventDefault"],"sources":["/Users/li4nost/dev/react-mesto-auth/src/components/landing/userReg/Register.js"],"sourcesContent":["import React from \"react\";\nimport AuthApi, { authApi } from \"../../../utils/AuthApi\";\nimport { useState } from \"react\";\nimport { Navigate, useNavigate } from \"react-router\";\nimport InfoToolTip from \"./InfoToolTip\";\nimport Header from \"../header\";\nfunction Register(props) {\n    const [email, setIsEmail] = useState('')\n    const [password, setIsPassword] = useState('')\n    const [isOpen, setIsOpen] = useState(false)\n    const [isRight, setIsright] = useState(false)\n    const [isReg, setIsReg]= useState(true)\n\n    let navigate = useNavigate()\n    function handleSetEmail(e) {\n        setIsEmail(e.target.value)\n        console.log(email);\n    }\n    function onClose() {\n        setIsOpen(false)\n    }\n\n    function handleSetPassword(e) {\n        setIsPassword(e.target.value)\n        console.log(password);\n    }\n    function handleRegistr(email, password) {\n        authApi.postUser(email, password)\n            .then((res) => {\n                console.log(res);\n                setIsOpen(true)\n                setIsright(true)\n                setIsReg(false)\n                setTimeout(() => {\n                    navigate('/sign-in')\n                }, 3000);\n            })\n            .catch((err) => {\n                setIsOpen(true)\n                console.log(err);\n\n            })\n        console.log(email);\n        console.log(password);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault()\n        handleRegistr(email, password)\n\n    }\n    // let navigate = useNavigate()\n    // function signIn(){\n    //     localStorage.removeItem('token');\n    //     navigate('/sign-in');\n    //   }\n\n    return (\n        <>\n        <Header onText={'Войти'} onReg={isReg} />\n            <section className=\"register\">\n                <h2 className=\"register__text\">Регистрация</h2>\n                <form className=\"form form-register\" onSubmit={handleSubmit}>\n                    <input value={email || ''} onChange={handleSetEmail} type=\"email\" placeholder=\"Email\" className=\"form__ input form-register__input  form-register__input_type_email\" />\n                    <input value={password || ''} onChange={handleSetPassword} type=\"Password\" placeholder=\"Пароль\" className=\"form__ input form-register__input form-register_input_type_pass\" />\n                    <button type=\"submit\" className=\"form__button form-register__button\">Зарегистрироваться</button>\n                </form>\n                <button type=\"button\" className=\"register__button-login\">Уже зарегистрированы? Войти</button>\n                <InfoToolTip onClose={onClose} onOpen={isOpen} onRight={isRight} />\n            </section>\n        </>\n    )\n}\n\nexport default Register"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}