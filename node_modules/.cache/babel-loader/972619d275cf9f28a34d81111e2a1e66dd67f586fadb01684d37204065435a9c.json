{"ast":null,"code":"import _classCallCheck from\"/Users/li4nost/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/li4nost/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/createClass.js\";var AuthApi=/*#__PURE__*/function(){function AuthApi(_ref){var baseUrl=_ref.baseUrl,headers=_ref.headers;_classCallCheck(this,AuthApi);this._baseUrl=baseUrl;this._headers=headers;}_createClass(AuthApi,[{key:\"postUser\",value:function postUser(email,password){return fetch(\"\".concat(this._baseUrl,\"/signup\"),{method:'POST',headers:this._headers,body:JSON.stringify({\"password\":\"\".concat(password),\"email\":\"\".concat(email)})}).then(this._checkResponse);}},{key:\"autorizeUser\",value:function autorizeUser(email,password){return fetch(\"\".concat(this._baseUrl,\"/signin\"),{method:'POST',headers:this._headers,body:JSON.stringify({\"password\":\"\".concat(password),\"email\":\"\".concat(email)})}).then(this._checkResponse).catch(function(err){console.log(err);});}},{key:\"checkTokenUser\",value:function checkTokenUser(token){return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{method:'GET',headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \".concat(token)}}).then(this._checkResponse);}},{key:\"_checkResponse\",value:function _checkResponse(res){if(res.ok){return res.json();}else{return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430:\".concat(res.status,\" \").concat(res.statusText));}}}]);return AuthApi;}();export{AuthApi as default};var authApi=new AuthApi({baseUrl:'https://auth.nomoreparties.co',headers:{'Content-Type':'application/json'}});export{authApi};","map":{"version":3,"names":["AuthApi","baseUrl","headers","_baseUrl","_headers","email","password","fetch","method","body","JSON","stringify","then","_checkResponse","catch","err","console","log","token","res","ok","json","Promise","reject","status","statusText","authApi"],"sources":["/Users/li4nost/dev/react-mesto-auth/src/utils/AuthApi.js"],"sourcesContent":["export default class AuthApi {\n    constructor({baseUrl, headers}) {\n      this._baseUrl = baseUrl\n      this._headers = headers\n    }\n    postUser(email, password) {\n        return fetch(`${this._baseUrl}/signup`, {\n          method: 'POST',\n          headers: this._headers,\n          body: JSON.stringify({\n            \"password\": `${password}`,\n            \"email\": `${email}` \n          })\n        }\n        )\n        .then(this._checkResponse);\n      }\n\n      autorizeUser(email, password) {\n        return fetch(`${this._baseUrl}/signin`, {\n          method: 'POST',\n          headers: this._headers,\n          body: JSON.stringify({\n            \"password\": `${password}`,\n            \"email\": `${email}` \n          })\n        }\n        )\n        .then(this._checkResponse)\n         \n          .catch((err)=>{\n            console.log(err);\n          })\n      }\n\n      checkTokenUser(token) {\n        return fetch(`${this._baseUrl}/users/me`, {\n          method: 'GET',\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"Authorization\" : `Bearer ${token}`\n          },\n        }\n        )\n          .then(this._checkResponse);\n      }\n\n\n      _checkResponse(res) {\n        if (res.ok) {\n          return res.json();\n        } else {\n          return Promise.reject(`Ошибка:${res.status} ${res.statusText}`);\n        }\n      }\n\n      \n}\n\n\n\nconst authApi = new AuthApi({\n    baseUrl: 'https://auth.nomoreparties.co',\n    headers: {\n        'Content-Type': 'application/json'\n    }\n  })\n  export {authApi}"],"mappings":"mPAAqBA,QAAO,yBACxB,sBAAgC,IAAnBC,QAAO,MAAPA,OAAO,CAAEC,OAAO,MAAPA,OAAO,+BAC3B,IAAI,CAACC,QAAQ,CAAGF,OAAO,CACvB,IAAI,CAACG,QAAQ,CAAGF,OAAO,CACzB,CAAC,4CACD,kBAASG,KAAK,CAAEC,QAAQ,CAAE,CACtB,MAAOC,MAAK,WAAI,IAAI,CAACJ,QAAQ,YAAW,CACtCK,MAAM,CAAE,MAAM,CACdN,OAAO,CAAE,IAAI,CAACE,QAAQ,CACtBK,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnB,UAAU,WAAKL,QAAQ,CAAE,CACzB,OAAO,WAAKD,KAAK,CACnB,CAAC,CACH,CAAC,CACA,CACAO,IAAI,CAAC,IAAI,CAACC,cAAc,CAAC,CAC5B,CAAC,4BAED,sBAAaR,KAAK,CAAEC,QAAQ,CAAE,CAC5B,MAAOC,MAAK,WAAI,IAAI,CAACJ,QAAQ,YAAW,CACtCK,MAAM,CAAE,MAAM,CACdN,OAAO,CAAE,IAAI,CAACE,QAAQ,CACtBK,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnB,UAAU,WAAKL,QAAQ,CAAE,CACzB,OAAO,WAAKD,KAAK,CACnB,CAAC,CACH,CAAC,CACA,CACAO,IAAI,CAAC,IAAI,CAACC,cAAc,CAAC,CAEvBC,KAAK,CAAC,SAACC,GAAG,CAAG,CACZC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAClB,CAAC,CAAC,CACN,CAAC,8BAED,wBAAeG,KAAK,CAAE,CACpB,MAAOX,MAAK,WAAI,IAAI,CAACJ,QAAQ,cAAa,CACxCK,MAAM,CAAE,KAAK,CACbN,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClC,eAAe,kBAAagB,KAAK,CACnC,CACF,CAAC,CACA,CACEN,IAAI,CAAC,IAAI,CAACC,cAAc,CAAC,CAC9B,CAAC,8BAGD,wBAAeM,GAAG,CAAE,CAClB,GAAIA,GAAG,CAACC,EAAE,CAAE,CACV,MAAOD,IAAG,CAACE,IAAI,EAAE,CACnB,CAAC,IAAM,CACL,MAAOC,QAAO,CAACC,MAAM,gDAAWJ,GAAG,CAACK,MAAM,aAAIL,GAAG,CAACM,UAAU,EAAG,CACjE,CACF,CAAC,8BAtDczB,OAAO,aA6D5B,GAAM0B,QAAO,CAAG,GAAI1B,QAAO,CAAC,CACxBC,OAAO,CAAE,+BAA+B,CACxCC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CACF,CAAC,CAAC,CACF,OAAQwB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}