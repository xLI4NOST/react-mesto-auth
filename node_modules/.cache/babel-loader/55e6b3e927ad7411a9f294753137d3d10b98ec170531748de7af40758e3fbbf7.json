{"ast":null,"code":"import _slicedToArray from\"/Users/li4nost/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import PopupWithForm from\"./popupWithForm\";import{userContext}from\"../../contexts/CurrentUserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(props){var apiUserContext=React.useContext(userContext);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];React.useEffect(function(){setName(apiUserContext.name);setDescription(apiUserContext.about);},[apiUserContext,props.isOpen]);function handleChangeName(e){setName(e.target.value);}function handleChangeAbout(e){setDescription(e.target.value);}function handleSubmit(e){// Запрещаем браузеру переходить по адресу формы\ne.preventDefault();// Передаём значения управляемых компонентов во внешний обработчик\nprops.onUpdateUser({name:name,about:description});props.onClose();}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"profile\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",closeAll:props.onClose,isOpen:props.isOpen,buttonText:'Сохранить',className:\"menu__button menu__submit form__button_active\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{onChange:handleChangeName,value:name||'',id:\"user-name\",type:\"text\",name:\"name\",required:\"\",minLength:2,maxLength:40,placeholder:\"\\u0418\\u043C\\u044F\",className:\"form__input form__input_type_name\"}),/*#__PURE__*/_jsx(\"span\",{id:\"user-name-error\",className:\"error-span\"}),/*#__PURE__*/_jsx(\"input\",{onChange:handleChangeAbout,value:description||'',id:\"about\",type:\"text\",name:\"about\",required:\"\",minLength:2,maxLength:200,placeholder:\"\\u0412\\u0438\\u0434 \\u0434\\u0435\\u044F\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u0438\",className:\"form__input form__input_type_job\"}),/*#__PURE__*/_jsx(\"span\",{id:\"about-error\",className:\"error-span\"})]});}export default EditProfilePopup;","map":{"version":3,"names":["React","useEffect","useState","PopupWithForm","userContext","EditProfilePopup","props","apiUserContext","useContext","name","setName","description","setDescription","about","isOpen","handleChangeName","e","target","value","handleChangeAbout","handleSubmit","preventDefault","onUpdateUser","onClose"],"sources":["/Users/li4nost/dev/mesto-react/src/components/landing/EditProfilePopup.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport PopupWithForm from \"./popupWithForm\";\nimport { userContext } from \"../../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup(props) {\n    const apiUserContext = React.useContext(userContext)\n    const [name, setName] = useState('')\n    const [description, setDescription] = useState('')\n    React.useEffect(() => {\n        setName(apiUserContext.name);\n        setDescription(apiUserContext.about);\n      }, [apiUserContext, props.isOpen]); \n\n    function handleChangeName(e) {\n        setName(e.target.value)\n    }\n\n\n    function handleChangeAbout(e) {\n        setDescription(e.target.value)\n    }\n\n    function handleSubmit(e) {\n        // Запрещаем браузеру переходить по адресу формы\n        e.preventDefault();\n      \n        // Передаём значения управляемых компонентов во внешний обработчик\n        props.onUpdateUser({\n          name,\n          about: description\n        });\n        props.onClose()\n      }\n\n    return (\n        <PopupWithForm\n            name='profile'\n            title='Редактировать профиль'\n            closeAll={props.onClose}\n            isOpen={props.isOpen}\n            buttonText={'Сохранить'}\n            className=\"menu__button menu__submit form__button_active\"\n            onSubmit ={handleSubmit}\n        >\n            <input\n                onChange={handleChangeName}\n                value={name || ''}\n                id=\"user-name\"\n                type=\"text\"\n                name=\"name\"\n                required=\"\"\n                minLength={2}\n                maxLength={40}\n                placeholder=\"Имя\"\n                className=\"form__input form__input_type_name\"\n            />\n            <span id=\"user-name-error\" className=\"error-span\" />\n            <input\n                onChange={handleChangeAbout}\n                value={description || ''}\n                id=\"about\"\n                type=\"text\"\n                name=\"about\"\n                required=\"\"\n                minLength={2}\n                maxLength={200}\n                placeholder=\"Вид деятельности\"\n                className=\"form__input form__input_type_job\"\n            />\n            <span id=\"about-error\" className=\"error-span\" />\n        </PopupWithForm>\n    )\n}\n\nexport default EditProfilePopup"],"mappings":"oHAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAOC,cAAa,KAAM,iBAAiB,CAC3C,OAASC,WAAW,KAAQ,mCAAmC,CAAC,wFAEhE,QAASC,iBAAgB,CAACC,KAAK,CAAE,CAC7B,GAAMC,eAAc,CAAGP,KAAK,CAACQ,UAAU,CAACJ,WAAW,CAAC,CACpD,cAAwBF,QAAQ,CAAC,EAAE,CAAC,wCAA7BO,IAAI,eAAEC,OAAO,eACpB,eAAsCR,QAAQ,CAAC,EAAE,CAAC,yCAA3CS,WAAW,eAAEC,cAAc,eAClCZ,KAAK,CAACC,SAAS,CAAC,UAAM,CAClBS,OAAO,CAACH,cAAc,CAACE,IAAI,CAAC,CAC5BG,cAAc,CAACL,cAAc,CAACM,KAAK,CAAC,CACtC,CAAC,CAAE,CAACN,cAAc,CAAED,KAAK,CAACQ,MAAM,CAAC,CAAC,CAEpC,QAASC,iBAAgB,CAACC,CAAC,CAAE,CACzBN,OAAO,CAACM,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAC3B,CAGA,QAASC,kBAAiB,CAACH,CAAC,CAAE,CAC1BJ,cAAc,CAACI,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAClC,CAEA,QAASE,aAAY,CAACJ,CAAC,CAAE,CACrB;AACAA,CAAC,CAACK,cAAc,EAAE,CAElB;AACAf,KAAK,CAACgB,YAAY,CAAC,CACjBb,IAAI,CAAJA,IAAI,CACJI,KAAK,CAAEF,WACT,CAAC,CAAC,CACFL,KAAK,CAACiB,OAAO,EAAE,CACjB,CAEF,mBACI,MAAC,aAAa,EACV,IAAI,CAAC,SAAS,CACd,KAAK,CAAC,2HAAuB,CAC7B,QAAQ,CAAEjB,KAAK,CAACiB,OAAQ,CACxB,MAAM,CAAEjB,KAAK,CAACQ,MAAO,CACrB,UAAU,CAAE,WAAY,CACxB,SAAS,CAAC,+CAA+C,CACzD,QAAQ,CAAGM,YAAa,wBAExB,cACI,QAAQ,CAAEL,gBAAiB,CAC3B,KAAK,CAAEN,IAAI,EAAI,EAAG,CAClB,EAAE,CAAC,WAAW,CACd,IAAI,CAAC,MAAM,CACX,IAAI,CAAC,MAAM,CACX,QAAQ,CAAC,EAAE,CACX,SAAS,CAAE,CAAE,CACb,SAAS,CAAE,EAAG,CACd,WAAW,CAAC,oBAAK,CACjB,SAAS,CAAC,mCAAmC,EAC/C,cACF,aAAM,EAAE,CAAC,iBAAiB,CAAC,SAAS,CAAC,YAAY,EAAG,cACpD,cACI,QAAQ,CAAEU,iBAAkB,CAC5B,KAAK,CAAER,WAAW,EAAI,EAAG,CACzB,EAAE,CAAC,OAAO,CACV,IAAI,CAAC,MAAM,CACX,IAAI,CAAC,OAAO,CACZ,QAAQ,CAAC,EAAE,CACX,SAAS,CAAE,CAAE,CACb,SAAS,CAAE,GAAI,CACf,WAAW,CAAC,6FAAkB,CAC9B,SAAS,CAAC,kCAAkC,EAC9C,cACF,aAAM,EAAE,CAAC,aAAa,CAAC,SAAS,CAAC,YAAY,EAAG,GACpC,CAExB,CAEA,cAAeN,iBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}